<button mat-list-item class="hoverable" (click)="popup.open()">
  <div class="actions" (click)="$event.stopPropagation()">
    <button
      mat-icon-button
      [matTooltip]="completionTooltip"
      (click)="switchCompletion()"
      appStopRipplePropagation
    >
      <mat-icon>{{ completionIcon }}</mat-icon>
    </button>
  </div>

  <div class="content" fxFlex fxFlexOffset="1%">
    <div matLine>
      {{ assignment?.task?.title }}
    </div>
    <div matLine class="opacity--1">
      <span matTooltip="Creation Time" i18n-matTooltip>
        <mat-icon inline>calendar_today</mat-icon>
        <span>
          {{ assignment?.createdAt | date: 'short' }}
        </span>
      </span>
      <span matTooltip="Creator" i18n-matTooltip>
        <mat-icon inline>person</mat-icon>
        <app-username [user]="assignment?.task?.creator"></app-username>
      </span>
    </div>
  </div>

  <div class="actions" (click)="$event.stopPropagation()">
    <button
      mat-icon-button
      [matTooltip]="importanceTooltip"
      (click)="switchImportance()"
      appStopRipplePropagation
    >
      <mat-icon>{{ importanceIcon }}</mat-icon>
    </button>
  </div>
</button>

<app-popup #popup>
  <ng-template>
    <app-classroom-detail-assignments-item-detail
      [assignment]="assignment"
    ></app-classroom-detail-assignments-item-detail>
  </ng-template>
</app-popup>
